{"ast":null,"code":"import React,{useEffect,useRef,useState}from\"react\";import{MapContainer,TileLayer,Marker,Polyline}from\"react-leaflet\";import{FaHome,FaMapMarkerAlt}from\"react-icons/fa\";import ReactDOMServer from\"react-dom/server\";import L from\"leaflet\";import\"leaflet/dist/leaflet.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const createDivIcon=icon=>L.divIcon({html:ReactDOMServer.renderToString(icon),className:\"custom-icon\",iconSize:[30,30],iconAnchor:[15,30]});const DeliveryTracker=()=>{const homePosition=[28.4589,77.0030];const[vehiclePos,setVehiclePos]=useState([28.4517274,76.962187]);// Start from here\nconst pathCoords=[[28.4517274,76.962187],// Start – near Dwarka Expressway (Gurgaon branch)\n[28.4525,76.9670],[28.4533,76.9715],[28.4541,76.9760],[28.4549,76.9805],[28.4557,76.9850],[28.4565,76.9895],[28.4573,76.9940],[28.4581,76.9985],[28.4589,77.0030]// End – further along the expressway\n];useEffect(()=>{let i=0;const interval=setInterval(()=>{if(i>=pathCoords.length){clearInterval(interval);return;}setVehiclePos(pathCoords[i]);i++;},300);return()=>clearInterval(interval);},[]);return/*#__PURE__*/_jsxs(MapContainer,{center:homePosition,zoom:15,style:{height:\"90vh\",width:\"100%\"},children:[/*#__PURE__*/_jsx(TileLayer,{url:\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"}),/*#__PURE__*/_jsx(Marker,{position:homePosition,icon:createDivIcon(/*#__PURE__*/_jsx(FaHome,{style:{color:\"blue\",fontSize:\"24px\"}}))}),/*#__PURE__*/_jsx(Marker,{position:vehiclePos,icon:createDivIcon(/*#__PURE__*/_jsx(FaMapMarkerAlt,{style:{color:\"red\",fontSize:\"24px\"}})),ref:useRef()}),/*#__PURE__*/_jsx(Polyline,{positions:pathCoords,color:\"blue\"})]});};export default DeliveryTracker;","map":{"version":3,"names":["React","useEffect","useRef","useState","MapContainer","TileLayer","Marker","Polyline","FaHome","FaMapMarkerAlt","ReactDOMServer","L","jsx","_jsx","jsxs","_jsxs","createDivIcon","icon","divIcon","html","renderToString","className","iconSize","iconAnchor","DeliveryTracker","homePosition","vehiclePos","setVehiclePos","pathCoords","i","interval","setInterval","length","clearInterval","center","zoom","style","height","width","children","url","position","color","fontSize","ref","positions"],"sources":["/home/tanmay/Documents/mapping/src/components/DeliveryTracker.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport { MapContainer, TileLayer, Marker, Polyline } from \"react-leaflet\";\nimport { FaHome, FaMapMarkerAlt } from \"react-icons/fa\";\nimport ReactDOMServer from \"react-dom/server\";\nimport L from \"leaflet\";\nimport \"leaflet/dist/leaflet.css\";\n\nconst createDivIcon = (icon) =>\n  L.divIcon({\n    html: ReactDOMServer.renderToString(icon),\n    className: \"custom-icon\",\n    iconSize: [30, 30],\n    iconAnchor: [15, 30],\n  });\n\nconst DeliveryTracker = () => {\n  const homePosition = [28.4589, 77.0030];\n  const [vehiclePos, setVehiclePos] = useState([28.4517274, 76.962187]); // Start from here\n\nconst pathCoords = [\n  [28.4517274, 76.962187],  // Start – near Dwarka Expressway (Gurgaon branch)\n  [28.4525,    76.9670],\n  [28.4533,    76.9715],\n  [28.4541,    76.9760],\n  [28.4549,    76.9805],\n  [28.4557,    76.9850],\n  [28.4565,    76.9895],\n  [28.4573,    76.9940],\n  [28.4581,    76.9985],\n  [28.4589,    77.0030],    // End – further along the expressway\n];\n\n  useEffect(() => {\n    let i = 0;\n    const interval = setInterval(() => {\n      if (i >= pathCoords.length) {\n        clearInterval(interval);\n        return;\n      }\n      setVehiclePos(pathCoords[i]);\n      i++;\n    }, 300);\n\n    return () => clearInterval(interval);\n  }, []);\n\n  return (\n    <MapContainer center={homePosition} zoom={15} style={{ height: \"90vh\", width: \"100%\" }}>\n      <TileLayer url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\" />\n\n      <Marker position={homePosition} icon={createDivIcon(<FaHome style={{ color: \"blue\", fontSize: \"24px\" }} />)} />\n\n      <Marker\n        position={vehiclePos}\n        icon={createDivIcon(<FaMapMarkerAlt style={{ color: \"red\", fontSize: \"24px\" }} />)}\n        ref={useRef()}\n      />\n\n      <Polyline positions={pathCoords} color=\"blue\" />\n    </MapContainer>\n  );\n};\n\nexport default DeliveryTracker;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}